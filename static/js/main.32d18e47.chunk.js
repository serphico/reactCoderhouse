(this["webpackJsonpmundo-amigurumi"]=this["webpackJsonpmundo-amigurumi"]||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){"use strict";c.r(t);var r=c(3),n=c(0),i=c.n(n),a=c(11),o=c.n(a),d=c(17),s=c.p+"static/media/logo.7cfad379.svg",j=c.p+"static/media/logo-m.4af0dad6.svg",u=(c(85),c(72)),l=(c(86),c(59)),m=c(42),O=(c(65),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/reactCoderhouse/mundo-amigurumi",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APIKEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/reactCoderhouse/mundo-amigurumi",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_authDomain,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/reactCoderhouse/mundo-amigurumi",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_projectId,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/reactCoderhouse/mundo-amigurumi",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_storageBucket,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/reactCoderhouse/mundo-amigurumi",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_messagingSenderId,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/reactCoderhouse/mundo-amigurumi",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_appId}),b=m.a.initializeApp(O);function h(){return m.a.firestore(b)}var p=Object(n.createContext)(),x=p.Provider;function f(e){var t=e.children,c=Object(n.useState)([]),i=Object(d.a)(c,2),a=i[0],o=i[1],s=Object(n.useState)([]),j=Object(d.a)(s,2),u=j[0],O=j[1],b=Object(n.useState)([]),p=Object(d.a)(b,2),f=p[0],v=p[1],C=Object(n.useState)([]),g=Object(d.a)(C,2),S=g[0],E=g[1],_=Object(n.useState)([]),T=Object(d.a)(_,2),I=T[0],F=T[1],P=Object(n.useState)([]),D=Object(d.a)(P,2),R=D[0],A=D[1],N=Object(n.useState)([]),y=Object(d.a)(N,2),U=y[0],W=y[1];return Object(r.jsx)(x,{value:{allCart:a,setAllCart:o,cartLength:function(){return a.reduce((function(e,t){return e+t.cant}),0)},cartPrice:function(){return a.reduce((function(e,t){return e+t.cant*t.prod.price}),0)},addCart:function(e,t){var c=a.findIndex((function(t){return t.prod.id===e.id}));if(-1===c)o((function(c){return[].concat(Object(l.a)(c),[{prod:e,cant:t}])}));else{var r=Object(l.a)(a);console.log(r[c].cant),console.log(t),r[c].cant<r[c].prod.stock&&(r[c].cant+=t),r[c].cant>r[c].prod.stock&&(r[c].cant=r[c].prod.stock),o(r)}},removeCart:function(){o([])},removeItem:function(e){var t=a.filter((function(t){return t.prod.id!==e}));o(t)},buyItem:function(e,t,c,r){var n=h().collection("orders"),i={buyer:{nameForm:f,phoneForm:S,emailForm:I},items:[{itemId:e,itemPrice:t,itemQuantity:c}],date:m.a.firestore.Timestamp.fromDate(new Date),TotalPrice:r};o([]),n.add(i).then((function(e){var t=e.id;W([t])})).catch((function(e){console.log(e)}))},setNameForm:v,setPhoneForm:E,setEmailForm:F,orderId:U,orderIdAccepted:function(){W([]),o([]),v([]),E([]),F([]),A([])},nameForm:f,phoneForm:S,emailForm:I,idSeteo:u,seteoParam:function(e){O([e])},verifyEmailForm:R,setVerifyEmailForm:A},children:t})}var v=c(22),C=function(){var e=Object(n.useContext)(p).cartLength;return Object(r.jsxs)(v.b,{to:"/cart",children:[" ",Object(r.jsx)(u.a,{className:"cartIcon"})," ",0===e()?"":e()]})},g=function(e){var t=e.links;return Object(r.jsxs)("header",{children:[Object(r.jsxs)(v.b,{to:"/",children:[Object(r.jsx)("img",{className:"logoDesk",src:s,alt:"Marca para escritorio"}),Object(r.jsx)("img",{className:"logoMobile",src:j,alt:"Marca para mobile"})]}),Object(r.jsx)("nav",{className:"menu",children:Object(r.jsx)("ul",{children:t.map((function(e,t){return Object(r.jsx)("li",{children:Object(r.jsx)(v.c,{to:"/".concat(e.url),exact:!0,children:e.nombre})},t)}))})}),Object(r.jsx)(C,{})]})},S=function(){var e=Object(n.useState)([{nombre:"patrones",url:"productos/patrones"},{nombre:"amigurumis",url:"productos/amigurumis"}]),t=Object(d.a)(e,2),c=t[0];t[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(g,{links:c})})},E=(c(92),c(93),c(94),c(136)),_=function(e){var t=e.idProduct,c=e.title,n=e.pictureUrl,i=e.price;return Object(r.jsx)(v.b,{to:"/productoDetalle/".concat(t),children:Object(r.jsxs)(E.a,{elevation:3,children:[Object(r.jsx)("h2",{children:c}),Object(r.jsx)("img",{src:n,alt:"imagen del producto"}),Object(r.jsxs)("p",{children:["$",i]})]})})},T=function(e){var t=e.idProduct,c=e.categoria,n=e.title,i=e.pictureUrl,a=e.price;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(_,{idProduct:t,categoria:c,title:n,pictureUrl:i,price:a},t)})},I=c(13),F=c(73),P=Object(n.createContext)(),D=P.Provider,R=(P.Consumer,function(e){var t=e.children,c=Object(n.useState)([]),i=Object(d.a)(c,2),a=i[0],o=i[1];Object(n.useEffect)((function(){h().collection("products").get().then((function(e){var t=e.docs.map((function(e){return Object(F.a)({id:e.id},e.data())}));o(t)})).catch((function(e){console.log(e)}))}),[]);return Object(r.jsx)(D,{value:{itemDb:a,initial:0},children:t})}),A=function(){var e=Object(I.f)().id,t=Object(n.useContext)(P).itemDb;return Object(r.jsxs)("section",{id:"itemsContainer",children:[e?Object(r.jsx)("h1",{children:e}):Object(r.jsx)("h1",{children:"Nuestros productos"}),0===t.length?Object(r.jsx)("p",{children:"loading"}):t.map((function(t){return e?t.category===e?Object(r.jsx)(T,{idProduct:t.id,categoria:t.category,title:t.title,pictureUrl:t.pictureUrl,price:t.price},t.id):null:Object(r.jsx)(T,{idProduct:t.id,categoria:t.category,title:t.title,pictureUrl:t.pictureUrl,price:t.price},t.id)}))]})},N=c(69),y=c.n(N),U=(c(95),c(96),new Promise((function(e,t){setTimeout((function(){e([{id:1,pictureUrl:" https://i.ibb.co/RT14bBF/01.jpg"},{id:2,pictureUrl:"https://i.ibb.co/7CYRzML/02.jpg"},{id:3,pictureUrl:"https://i.ibb.co/LkyCFnn/03.jpg"}])}),2e3)}))),W=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],i=t[1];return Object(n.useEffect)((function(){U.then((function(e){i(e)}))})),Object(r.jsx)(y.a,{arrows:!0,dots:!0,children:0===c.length?Object(r.jsx)("p",{children:"Loading"}):c.map((function(e){return Object(r.jsx)("img",{className:"slider".concat(e.id),src:e.pictureUrl,alt:"imagenes de slider"},e.id)}))})},K=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(W,{}),Object(r.jsx)(A,{})]})},k=(c(97),c(71)),H=c.n(k),L=c(70),B=c.n(L),V=(c(98),function(e){var t=e.countRemove,c=e.countAdd,n=e.count;return Object(r.jsxs)("div",{className:"countContainer",children:[Object(r.jsx)(B.a,{onClick:t}),Object(r.jsx)("span",{children:n}),Object(r.jsx)(H.a,{onClick:c})]})}),w=c(141);var z=function(e){var t=e.count,c=e.addItem,i=Object(n.useState)(t),a=Object(d.a)(i,2),o=a[0],s=a[1];return Object(n.useEffect)((function(){s(t)})),Object(r.jsx)(r.Fragment,{children:0===o?null:Object(r.jsxs)(w.a,{onClick:c,variant:"contained",color:"primary",children:["Comprar ",o," unidades."]})})},M=function(e){var t=e.itemDetail,c=e.initial,i=Object(n.useContext)(p).addCart,a=Object(n.useState)(c),o=Object(d.a)(a,2),s=o[0],j=o[1];return Object(r.jsxs)("div",{className:"itemDetailContainer",children:[Object(r.jsxs)("div",{className:"itemContainerInfo",children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:t.pictureUrl,alt:"imagen del producto"})}),Object(r.jsxs)("div",{className:"itemDescriptions",children:[Object(r.jsx)("h2",{children:t.title}),Object(r.jsxs)("span",{children:["Precio: $",t.price]}),Object(r.jsx)(V,{count:s,countAdd:function(){s<t.stock&&j(s+1)},countRemove:function(){s>c&&j(s-1)}}),Object(r.jsx)(z,{addItem:function(){i(t,s)},count:s})]})]}),Object(r.jsxs)("div",{className:"itemContainerDesc",children:[Object(r.jsx)("h3",{children:"Descripci\xf3n"}),Object(r.jsx)("p",{children:t.description})]})]})},q=(c(100),function(){var e=Object(n.useContext)(P),t=e.itemDb,c=e.initial,i=Object(I.f)().detailId;return Object(r.jsx)(r.Fragment,{children:0===t.length?Object(r.jsx)("p",{children:"loading"}):t.map((function(e){return e.id===i?Object(r.jsx)(M,{itemDetail:e,initial:c},e.id):null}))})});c(101);var J=function(e){var t=e.imgItemsCart,c=e.titleItemsCart,n=e.priceItemsCart,i=e.cantItemsCart,a=e.addId;return Object(r.jsxs)("div",{id:"CartItemContainer",children:[Object(r.jsx)("img",{src:t,alt:"imagen de producto"}),Object(r.jsx)("h3",{children:c}),Object(r.jsx)("span",{children:n}),Object(r.jsxs)("p",{children:["cantidad: ",i]}),Object(r.jsx)(w.a,{variant:"contained",color:"primary",onClick:a,children:"Quitar"})]})},Q=c(140),Y=function(e){var t=e.addBuy,c=e.nameInfo,i=e.phoneInfo,a=e.emailInfo,o=e.verifyEmailInfo,d=Object(n.useContext)(p),s=d.nameForm,j=d.phoneForm,u=d.emailForm,l=d.verifyEmailForm,m=d.setVerifyEmailForm,O=d.setNameForm,b=d.setPhoneForm,h=d.setEmailForm;return Object(n.useEffect)((function(){O([]),b([]),h([]),m([])}),[]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("form",{children:[Object(r.jsx)(Q.a,{id:"standard-basic",label:"Nombre y Apellido",required:!0,onChange:c}),Object(r.jsx)(Q.a,{id:"standard-basic",label:"E-mail",required:!0,onChange:a}),Object(r.jsx)(Q.a,{id:"standard-basic",label:"Introduce el E-mail otra vez",required:!0,onChange:o}),Object(r.jsx)(Q.a,{id:"standard-basic",label:"Telefono",type:"number",required:!0,onChange:i}),0!==s.length&&0!==j.length&&0!==u.length&&u===l?Object(r.jsx)(w.a,{variant:"contained",color:"primary",onClick:t,children:" Finalizar Comprar"}):null]})})};c(102);var $=function(){var e=Object(n.useContext)(p),t=e.allCart,c=e.cartPrice,i=e.removeCart,a=e.removeItem,o=e.buyItem,d=e.setNameForm,s=e.setPhoneForm,j=e.setEmailForm,u=e.setVerifyEmailForm,l=e.orderId,m=e.orderIdAccepted;return Object(r.jsxs)("div",{id:"cartWithItemContainer",children:[Object(r.jsx)("div",{className:"cartWithItemResume",children:0===t.length&&t&&0===l.length?Object(r.jsxs)("div",{id:"cartContainer",children:[" ",Object(r.jsx)("p",{children:"tu carrito esta vacio"})]}):t.map((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(J,{imgItemsCart:e.prod.pictureUrl,titleItemsCart:e.prod.title,priceItemsCart:e.prod.price,cantItemsCart:e.cant,addId:function(){a(e.prod.id)}},e.prod.id)})}))}),0===t.length&&l?null:Object(r.jsxs)("div",{className:"cartWithItemForm",children:[Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Total:",c()]})}),Object(r.jsx)(w.a,{variant:"contained",color:"primary",onClick:i,children:"borrar"}),Object(r.jsx)(Y,{nameInfo:function(e){var t=e.target.value;d(t)},emailInfo:function(e){var t=e.target.value;j(t)},phoneInfo:function(e){var t=e.target.value;s(t)},addBuy:function(){t.map((function(e){o(e.prod.id,e.prod.price,e.cant,c())}))},verifyEmailInfo:function(e){var t=e.target.value;u(t)}},"buyFormComponent")]}),t&&l.length>=1?Object(r.jsxs)("div",{id:"finishCart",children:[Object(r.jsx)("h1",{children:"Tu compra se ha realizado"}),Object(r.jsxs)("p",{children:["Su numero de ID de su orden es: ",l]}),Object(r.jsx)(w.a,{variant:"contained",color:"primary",onClick:m,children:"Aceptar"})]}):null]})},G=(c(103),function(){return Object(r.jsx)("main",{children:Object(r.jsxs)(I.c,{children:[Object(r.jsx)(I.a,{path:"/",exact:!0,children:Object(r.jsx)(K,{})}),Object(r.jsx)(I.a,{path:"/productos/:id",exact:!0,children:Object(r.jsx)(A,{})}),Object(r.jsx)(I.a,{path:"/productos/:id",exact:!0,children:Object(r.jsx)(A,{})}),Object(r.jsx)(I.a,{path:"/productoDetalle/:detailId",exact:!0,children:Object(r.jsx)(q,{})}),Object(r.jsx)(I.a,{path:"/cart",children:Object(r.jsx)($,{})})]})})}),X=(c(104),function(){return Object(r.jsx)("footer",{children:Object(r.jsx)("p",{children:"Noel, hecho a mano - copyright 2021"})})}),Z=function(){return Object(r.jsx)(X,{})},ee=(c(105),function(){return Object(r.jsx)(v.a,{children:Object(r.jsx)(R,{children:Object(r.jsxs)(f,{children:[Object(r.jsx)(S,{}),Object(r.jsx)(G,{}),Object(r.jsx)(Z,{})]})})})});c(106),c(107);o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(ee,{})})}),document.getElementById("root"))},85:function(e,t,c){},86:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){}},[[108,1,2]]]);
//# sourceMappingURL=main.32d18e47.chunk.js.map